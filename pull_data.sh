#!/bin/bash

# div(){ awk "BEGIN { print $* }"; }

## Cosmos
#blocks=(10000 20000 30000 40000 50000 70000 80000 90000 100000 120000 130000 140000 150000 160000 180000 190000 200000 210000 230000 240000 250000 260000 270000 290000 300000 310000 320000 340000 350000 360000 370000 380000 400000 410000 420000 430000 440000 460000 470000 480000 490000 510000 520000 530000 540000 550000 570000 580000 590000 600000 610000 630000 640000 650000 660000 680000 690000 700000 710000 720000 740000 750000 760000 770000 790000 800000 810000 820000 830000 850000 860000 870000 880000 890000 910000 920000 930000 940000 950000 970000 980000 990000 1000000 1020000 1030000 1040000 1050000 1060000 1080000 1090000 1100000 1110000 1120000 1140000 1150000 1160000 1170000 1180000 1200000 1210000 1220000 1230000 1240000 1260000 1270000 1280000 1290000 1300000 1320000 1330000 1340000 1350000 1360000 1380000 1390000 1400000 1410000 1420000 1440000 1450000 1460000 1470000 1490000 1500000 1510000 1520000 1530000 1550000 1560000 1570000 1580000 1600000 1610000 1620000 1630000 1640000 1660000 1670000 1680000 1690000 1710000 1720000 1730000 1740000 1750000 1770000 1780000 1790000 1800000 1820000 1830000 1840000 1850000 1860000 1880000 1890000 1900000 1910000 1930000 1940000 1950000 1960000 1970000 1990000 2000000 2010000 2020000 2030000 2050000 2060000 2070000 2080000 2100000 2110000 2120000 2130000 2140000 2160000 2170000 2180000 2190000 2200000 2220000 2230000 2240000 2250000 2260000 2280000 2290000 2300000 2310000 2320000 2340000 2350000 2360000 2370000 2380000 2400000 2410000 2420000 2430000 2440000 2450000 2470000 2480000 2490000 2500000 2510000 2530000 2540000 2550000 2560000 2570000 2580000 2600000 2610000 2620000 2630000 2640000 2660000 2670000 2680000 2690000 2700000 2720000 2730000 2740000 2750000 2760000 2780000 2790000 2800000 2810000 2820000 2840000 2850000 2860000 2870000 2880000 2900000 2910000 2920000 2930000 2940000 2960000 2970000 2980000 2990000 3000000 3020000 3030000 3040000 3050000 3060000 3080000 3090000 3100000 3110000 3120000 3140000 3150000 3160000 3170000 3180000 3190000 3210000 3220000 3230000 3240000 3250000 3270000 3280000 3290000 3300000 3310000 3320000 3340000 3350000 3360000 3370000 3380000 3390000 3410000 3420000 3430000 3440000 3450000 3470000 3480000 3490000 3500000 3510000 3520000 3540000 3550000 3560000 3570000 3580000 3590000 3610000 3620000 3630000 3640000 3650000 3670000 3680000 3690000 3700000 3710000 3720000 3740000 3750000 3760000 3770000 3780000 3800000 3810000 3820000 3830000 3840000 3850000 3870000 3880000 3890000 3900000 3910000 3930000 3940000 3950000 3960000 3970000 3980000 4000000 4010000 4020000 4030000 4040000 4050000 4070000 4080000 4090000 4100000 4110000 4130000 4140000 4150000 4160000 4170000 4180000 4200000 4210000 4220000 4230000 4240000 4250000 4270000 4280000 4290000 4300000 4310000 4320000 4340000 4350000 4360000 4370000 4380000 4390000 4410000 4420000 4430000 4440000 4450000 4460000 4480000 4490000 4500000 4510000 4520000 4540000 4550000 4560000 4570000 4580000 4590000 4610000 4620000 4630000 4640000 4650000 4660000 4680000 4690000 4700000 4710000 4720000 4740000 4750000 4760000 4770000 4780000 4800000 4810000 4820000 4830000 4840000 4860000 4870000 4880000 4890000 4900000 4910000 4930000 4940000 4950000 4960000 4970000 4990000 5000000 5010000 5020000 5030000 5050000 5060000 5070000 5080000 5090000 5100000 5120000 5130000 5140000 5150000 5160000 5170000 5190000 5200000 5200790)

#dates=(11-12-2019 12-12-2019 13-12-2019 14-12-2019 15-12-2019 16-12-2019 17-12-2019 18-12-2019 19-12-2019 20-12-2019 21-12-2019 22-12-2019 23-12-2019 24-12-2019 25-12-2019 26-12-2019 27-12-2019 28-12-2019 29-12-2019 30-12-2019 31-12-2019 01-01-2020 02-01-2020 03-01-2020 04-01-2020 05-01-2020 06-01-2020 07-01-2020 08-01-2020 09-01-2020 10-01-2020 11-01-2020 12-01-2020 13-01-2020 14-01-2020 15-01-2020 16-01-2020 17-01-2020 18-01-2020 19-01-2020 20-01-2020 21-01-2020 22-01-2020 23-01-2020 24-01-2020 25-01-2020 26-01-2020 27-01-2020 28-01-2020 29-01-2020 30-01-2020 31-01-2020 01-02-2020 02-02-2020 03-02-2020 04-02-2020 05-02-2020 06-02-2020 07-02-2020 08-02-2020 09-02-2020 10-02-2020 11-02-2020 12-02-2020 13-02-2020 14-02-2020 15-02-2020 16-02-2020 17-02-2020 18-02-2020 19-02-2020 20-02-2020 21-02-2020 22-02-2020 23-02-2020 24-02-2020 25-02-2020 26-02-2020 27-02-2020 28-02-2020 29-02-2020 01-03-2020 02-03-2020 03-03-2020 04-03-2020 05-03-2020 06-03-2020 07-03-2020 08-03-2020 09-03-2020 10-03-2020 11-03-2020 12-03-2020 13-03-2020 14-03-2020 15-03-2020 16-03-2020 17-03-2020 18-03-2020 19-03-2020 20-03-2020 21-03-2020 22-03-2020 23-03-2020 24-03-2020 25-03-2020 26-03-2020 27-03-2020 28-03-2020 29-03-2020 30-03-2020 31-03-2020 01-04-2020 02-04-2020 03-04-2020 04-04-2020 05-04-2020 06-04-2020 07-04-2020 08-04-2020 09-04-2020 10-04-2020 11-04-2020 12-04-2020 13-04-2020 14-04-2020 15-04-2020 16-04-2020 17-04-2020 18-04-2020 19-04-2020 20-04-2020 21-04-2020 22-04-2020 23-04-2020 24-04-2020 25-04-2020 26-04-2020 27-04-2020 28-04-2020 29-04-2020 30-04-2020 01-05-2020 02-05-2020 03-05-2020 04-05-2020 05-05-2020 06-05-2020 07-05-2020 08-05-2020 09-05-2020 10-05-2020 11-05-2020 12-05-2020 13-05-2020 14-05-2020 15-05-2020 16-05-2020 17-05-2020 18-05-2020 19-05-2020 20-05-2020 21-05-2020 22-05-2020 23-05-2020 24-05-2020 25-05-2020 26-05-2020 27-05-2020 28-05-2020 29-05-2020 30-05-2020 31-05-2020 01-06-2020 02-06-2020 03-06-2020 04-06-2020 05-06-2020 06-06-2020 07-06-2020 08-06-2020 09-06-2020 10-06-2020 11-06-2020 12-06-2020 13-06-2020 14-06-2020 15-06-2020 16-06-2020 17-06-2020 18-06-2020 19-06-2020 20-06-2020 21-06-2020 22-06-2020 23-06-2020 24-06-2020 25-06-2020 26-06-2020 27-06-2020 28-06-2020 29-06-2020 30-06-2020 01-07-2020 02-07-2020 03-07-2020 04-07-2020 05-07-2020 06-07-2020 07-07-2020 08-07-2020 09-07-2020 10-07-2020 11-07-2020 12-07-2020 13-07-2020 14-07-2020 15-07-2020 16-07-2020 17-07-2020 18-07-2020 19-07-2020 20-07-2020 21-07-2020 22-07-2020 23-07-2020 24-07-2020 25-07-2020 26-07-2020 27-07-2020 28-07-2020 29-07-2020 30-07-2020 31-07-2020 01-08-2020 02-08-2020 03-08-2020 04-08-2020 05-08-2020 06-08-2020 07-08-2020 08-08-2020 09-08-2020 10-08-2020 11-08-2020 12-08-2020 13-08-2020 14-08-2020 15-08-2020 16-08-2020 17-08-2020 18-08-2020 19-08-2020 20-08-2020 21-08-2020 22-08-2020 23-08-2020 24-08-2020 25-08-2020 26-08-2020 27-08-2020 28-08-2020 29-08-2020 30-08-2020 31-08-2020 01-09-2020 02-09-2020 03-09-2020 04-09-2020 05-09-2020 06-09-2020 07-09-2020 08-09-2020 09-09-2020 10-09-2020 11-09-2020 12-09-2020 13-09-2020 14-09-2020 15-09-2020 16-09-2020 17-09-2020 18-09-2020 19-09-2020 20-09-2020 21-09-2020 22-09-2020 23-09-2020 24-09-2020 25-09-2020 26-09-2020 27-09-2020 28-09-2020 29-09-2020 30-09-2020 01-10-2020 02-10-2020 03-10-2020 04-10-2020 05-10-2020 06-10-2020 07-10-2020 08-10-2020 09-10-2020 10-10-2020 11-10-2020 12-10-2020 13-10-2020 14-10-2020 15-10-2020 16-10-2020 17-10-2020 18-10-2020 19-10-2020 20-10-2020 21-10-2020 22-10-2020 23-10-2020 24-10-2020 25-10-2020 26-10-2020 27-10-2020 28-10-2020 29-10-2020 30-10-2020 31-10-2020 01-11-2020 02-11-2020 03-11-2020 04-11-2020 05-11-2020 06-11-2020 07-11-2020 08-11-2020 09-11-2020 10-11-2020 11-11-2020 12-11-2020 13-11-2020 14-11-2020 15-11-2020 16-11-2020 17-11-2020 18-11-2020 19-11-2020 20-11-2020 21-11-2020 22-11-2020 23-11-2020 24-11-2020 25-11-2020 26-11-2020 27-11-2020 28-11-2020 29-11-2020 30-11-2020 01-12-2020 02-12-2020 03-12-2020 04-12-2020 05-12-2020 06-12-2020 07-12-2020 08-12-2020 09-12-2020 10-12-2020 11-12-2020 12-12-2020 13-12-2020 14-12-2020 15-12-2020 16-12-2020 17-12-2020 18-12-2020 19-12-2020 20-12-2020 21-12-2020 22-12-2020 23-12-2020 24-12-2020 25-12-2020 26-12-2020 27-12-2020 28-12-2020 29-12-2020 30-12-2020 31-12-2020 01-01-2021 02-01-2021 03-01-2021 04-01-2021 05-01-2021 06-01-2021 07-01-2021 08-01-2021 09-01-2021 10-01-2021 11-01-2021 12-01-2021 13-01-2021 14-01-2021 15-01-2021 16-01-2021 17-01-2021 18-01-2021 19-01-2021 20-01-2021 21-01-2021 22-01-2021 23-01-2021 24-01-2021 25-01-2021 26-01-2021 27-01-2021 28-01-2021 29-01-2021 30-01-2021 31-01-2021 01-02-2021 02-02-2021 03-02-2021 04-02-2021 05-02-2021 06-02-2021 07-02-2021 08-02-2021 09-02-2021 10-02-2021 11-02-2021 12-02-2021 13-02-2021 14-02-2021 15-02-2021 16-02-2021 17-02-2021 18-02-2021 18-02-2021)

## Akash
blocks=(100 5800 19600 33400 47200 61100 75100 89100 103100 117100 130800 144600 158400 172400 186400 200400 214300 228300 242200 256200 270200 284200 298300 312400 326500 340500 354500 368500 382400 396400 410200 424100 437700 451500 465300 479000 492800 506700 520500 534500 548400 562300 576200 590200 604100 618000 631900 645900 659800 673700 687500 701200 715000 728900 742800 756800 770700 784500 798400 812300 826100 839900 853700 867600 881400 895300 909100 923000 936900 950800 964700 978700 992600 1006500 1020500 1034400 1048300 1062200 1076200 1090100 1104000 1117900 1131800 1145600 1159500 1173400 1187200 1201100 1215000 1229000 1242800 1256800 1270700 1284700 1298600 1312600 1326600 1340600 1354600 1368600 1382600 1396500 1410500 1424500 1438500 1452400 1466400 1480400 1494300 1508200 1522100 1536000 1550000 1563900 1577900 1591800 1605800 1619800 1633800 1647800 1661800 1675800 1689800 1703700 1717700 1731600 1745600 1759600 1773600 1787600 1801600 1815600 1829500 1843500 1857500 1871400 1885400 1899300 1913300 1927200 1941100 1955000 1968900 1982800 1996700 2010700 2024600 2038500 2052200 2066000 2079900 2093800 2107700 2121600 2135500 2149400 2163300 2177200 2191000 2205000 2218900 2232800 2246600 2260500 2274400 2283024)

dates=(25-09-2020 26-09-2020 27-09-2020 28-09-2020 29-09-2020 30-09-2020 01-10-2020 02-10-2020 03-10-2020 04-10-2020 05-10-2020 06-10-2020 07-10-2020 08-10-2020 09-10-2020 10-10-2020 11-10-2020 12-10-2020 13-10-2020 14-10-2020 15-10-2020 16-10-2020 17-10-2020 18-10-2020 19-10-2020 20-10-2020 21-10-2020 22-10-2020 23-10-2020 24-10-2020 25-10-2020 26-10-2020 27-10-2020 28-10-2020 29-10-2020 30-10-2020 31-10-2020 01-11-2020 02-11-2020 03-11-2020 04-11-2020 05-11-2020 06-11-2020 07-11-2020 08-11-2020 09-11-2020 10-11-2020 11-11-2020 12-11-2020 13-11-2020 14-11-2020 15-11-2020 16-11-2020 17-11-2020 18-11-2020 19-11-2020 20-11-2020 21-11-2020 22-11-2020 23-11-2020 24-11-2020 25-11-2020 26-11-2020 27-11-2020 28-11-2020 29-11-2020 30-11-2020 01-12-2020 02-12-2020 03-12-2020 04-12-2020 05-12-2020 06-12-2020 07-12-2020 08-12-2020 09-12-2020 10-12-2020 11-12-2020 12-12-2020 13-12-2020 14-12-2020 15-12-2020 16-12-2020 17-12-2020 18-12-2020 19-12-2020 20-12-2020 21-12-2020 22-12-2020 23-12-2020 24-12-2020 25-12-2020 26-12-2020 27-12-2020 28-12-2020 29-12-2020 30-12-2020 31-12-2020 01-01-2021 02-01-2021 03-01-2021 04-01-2021 05-01-2021 06-01-2021 07-01-2021 08-01-2021 09-01-2021 10-01-2021 11-01-2021 12-01-2021 13-01-2021 14-01-2021 15-01-2021 16-01-2021 17-01-2021 18-01-2021 19-01-2021 20-01-2021 21-01-2021 22-01-2021 23-01-2021 24-01-2021 25-01-2021 26-01-2021 27-01-2021 28-01-2021 29-01-2021 30-01-2021 31-01-2021 01-02-2021 02-02-2021 03-02-2021 04-02-2021 05-02-2021 06-02-2021 07-02-2021 08-02-2021 09-02-2021 10-02-2021 11-02-2021 12-02-2021 13-02-2021 14-02-2021 15-02-2021 16-02-2021 17-02-2021 18-02-2021 19-02-2021 20-02-2021 21-02-2021 22-02-2021 23-02-2021 24-02-2021 25-02-2021 26-02-2021 27-02-2021 28-02-2021 01-03-2021 02-03-2021 03-03-2021 04-03-2021 05-03-2021 06-03-2021 07-03-2021 08-03-2021 08-03-2021)

count=1

## Cosmos
# addr=cosmos130mdu9a0etmeuw52qfxk73pn0ga6gawkryh2z6
# valaddr=cosmosvaloper130mdu9a0etmeuw52qfxk73pn0ga6gawkxsrlwf
# chain_id=cosmoshub-3
# command=gaiacli
# coin=atom

## Akash
addr=akash1lhenngdge40r5thghzxqpsryn4x084m9jkpdg2
valAddr=akashvaloper1lhenngdge40r5thghzxqpsryn4x084m9c50tcq
chain_id=akashnet-1
command=akashctl
coin=akash-network


# for b in ${blocks[@]}; do
#     #echo "PULLING BLOCK $b"
#     distrRewards=$($command q distribution rewards $addr --output json --height $b --chain-id $chain_id | jq -r '.total[0].amount')
#     distrCommission=$($command q distribution commission $valAddr --output json --height $b --chain-id $chain_id | jq -r '.[0].amount')
#     # Cosmos 
#     #accBalance=$($command q account $addr --output json --height $b --chain-id $chain_id | jq -r '.value.BaseVestingAccount.BaseAccount.coins[0].amount')
#     #stakedAmount=$($command q staking delegations $addr --output json --height $b --chain-id $chain_id | jq -r '.[0].balance')
#     # Akash
#     accBalance=$($command q account $addr --output json --height $b --chain-id $chain_id | jq -r '.value.coins[].amount')
#     stakedAmount=$($command q staking delegations $addr --output json --height $b --chain-id $chain_id | jq -r '.[].balance.amount')
#     echo " $b,$distrRewards,$distrCommission,$stakedAmount,$accBalance"
# done

for d in ${dates[@]}; do
    #echo $count
    if ! (($count % 10)); then
    sleep 20
    fi
    price=$(curl -s https://api.coingecko.com/api/v3/coins/$coin/history?date=$d | jq -r '.market_data.current_price.usd')
    echo "$price"
    count=$(echo $count+1|bc)
done
